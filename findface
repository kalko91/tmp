"use strict";angular.module("app",["ui.router","ngSanitize","ngAnimate","LocalStorageModule","ui.bootstrap","nya.bootstrap.select","ui.checkbox","rzModule","NgSwitchery","ngTagsInput","ui-notification","ngFileUpload","slick","ngclipboard","angular-md5","ng.deviceDetector","angulartics","angulartics.google.analytics","pascalprecht.translate","app.translate","app.routing","app.config","filters","services","directives","app.notFound","app.login","app.tourService","app.search","app.searchResult","app.searchHistory","app.sympathy","app.tariffs","app.changeLogModal","app.getUserEmailModal","app.referralProgramModal","app.userProfileFoundModal","app.paymentAccountModal","app.recaptchaModal","app.settingsAccount","app.twinsGirls1","app.twinsGirls2","app.twinsGirls3","app.forGirls1","app.forGirls2","app.forGuys1","app.forGuys2","app.sheThrew1"]).run(["$rootScope","localStorageService","usersService",function(e,a,t){var o=hello("vk"),l=function(e){var a=(new Date).getTime()/1e3;return e&&e.access_token&&e.expires>a};ga(function(e){clientId=e.get("clientId"),trackingId=e.get("trackingId")}),l(o.getAuthResponse())&&(scheduleUpdateGlobal({autoUpdate:!0,delay:{value:2,type:"M"},idleWail:{value:2,type:"M"},callback:function(){1==e.CONFIG.authorized&&t.refreshUserSettings({placedScope:!0,callback:function(){console.log(dT(),"User data up to date")}})}}),scheduleUpdateGlobal({autoUpdate:!0,delay:{value:5,type:"M"},idleWail:{value:5,type:"M"},callback:function(){1==e.CONFIG.authorized&&(t.getSearchHistoryList({update:!0,callback:function(){console.log(dT(),"Search History data up to date")}}),t.getListSympathyPutDown({placedScope:!0,update:!0,callback:function(){console.log(dT(),"Sympathy data up to date")}}))}}))}]).controller("GlobalController",["routeApiMethods","$scope","$rootScope","$window","$timeout","$translate","localStorageService","deviceDetector","topmenuHeader","$uibModal",function(e,a,t,o,l,n,r,p,c,i){t.CONFIG={version:"0.2.1",current_date:(new Date).getFullYear(),domains:["findface.ru","findface.me","findface.dev-itf.ru"],download_links:{appstore:"https://itunes.apple.com/"+n.use()+"/app/id1059669951",android:"https://play.google.com/store/apps/details?id=ru.trinitydigital.findface"},api_methods:e,authorized:r.cookie.get("authorized"),access_token:r.cookie.get("access_token"),user_data:r.get("userData"),user_settings:r.get("userSettings"),load_average:0,device_detector:p,declension_word:declensionWordNum,topmenu_items:c.topmenuItems,preferred_lang:n.use(),selected_lang:n.use()},a.openChangeLogModal=function(){i.open({templateUrl:templateUrl("changeLogModal"),controller:"ChangeLogModalController",windowClass:"change-log-modal"})},a.openSettingsAccountModal=function(){i.open({templateUrl:templateUrl("settingsAccount"),controller:"SettingsAccountController",windowClass:"settings-account"})},a.changeLanguage=function(e){t.CONFIG.selected_lang!=e&&(r.cookie.set("app_language",e),o.location.reload())}}]);
"use strict";angular.module("app.translate",[]).config(["$translateProvider",function(E){E.translations("ru",{PAGE_TITLES:{LOGIN:"Инновационный сервис поиска людей по фотографии",SEARCH:"Поиск",SEARCH_HISTORY:"История поиска",SEARCH_RESULT:"Результат поиска",SYMPATHY:"Симпатии",TARIFFS:"Тарифы",TOUR_SERVICE:"Тур по сервису"},LOGIN_PAGE:{TITLE:"Найдет любого ВКонтакте!",SUBTITLE:"Инновационный сервис поиска людей по фотографии",LOGIN_BUTTON:"Найди одинаковых!",USER_AGREEMENT:{TEXT1:"Согласен с",TEXT2:"пользовательским соглашением",TEXT3:"Пользовательское соглашение"},DOWNLOAD_APPS:"или скачайте приложения",WEB_FROM_DESKTOP:"<br>Или воспользуйтесь веб-версией<br>с настольного компьютера.",VIEW_TOUR_SERVER:"Посмотреть тур по сервису",WRITING_US:"Нас рекомендуют"},SEARCH_PAGE:{UPLOAD_A_PHOTO:"Загрузите фотографию",SELECT_PERSON_SEARCH:"Выберите лицо для поиска",DRAG_A_PHOTO_HERE_OR:"Перетащите сюда<br>фотографию<br>или&nbsp;",CHOOSE_A_PHOTO_TO_UPLOAD:"загрузите",CHOOSE_A_PHOTO_TO_UPLOAD_MOBILE:"Выбрать фотографию",UPLOAD_ANOTHER_PHOTO:{TEXT1:"Загрузить",TEXT2:"другую фотографию"},MAXIMUM_PHOTO_SIZE:"Максимальный объем фотографии 5 МБ",JPG_PNG_FILES:"Файлы с расширением JPG, PNG",LOADING:"Загрузка",LOADING_COMPLETE:"Загрузка успешно завершена!",SEARCH_COMPLETE:"Поиск завершен.<br>Идет получение данных о пользователях из ВКонтакте.",FINISH_THE_SEARCH:'У вас закончились поиски.<br><a href="/tariffs" class="blue-link">Посмотреть тарифы</a>',PHOTOS_EXCEEDED_MAX_SIZE:"Превышен максимальный объем фотографии.",FILE_TYPE_NOT_SUPPORTED:"Тип файла не поддерживается.",SERVER_OVERLOADED:"Сервер перегружен. Попробуйте чуть позже.",SEARCH_COUNT_EXCEEDS:"Пожалуйста, пройтите проверку",NOT_VERIFIED:"Проверка не пройдена"},SEARCH_RESULT_PAGE:{I_SEARCH:"Я ищу",WE_FOUND:"Мы нашли",NEW_SEARCH:"Новый поиск",PEOPLE_FOUND:"Найдено: {{ val }}",VIP_USER:"VIP-пользователь",COUNT_FIND_PHOTOS:"Количество найденных фотографий"},SEARCH_HISTORY_PAGE:{TITLE:"История поиска",REMOVE_ALL:"Очистить историю поиска",SEARCHING_DATE:"Дата поиска",TRY_AGAIN:"Найти еще раз"},SYMPATHY_PAGE:{YOUR_FAVORITES:"Ваши симпатии",SEARCH_START:"Искать"},TARIFFS_PAGE:{ACCOUNT_TYPES:"Уровни аккаунтов",ACCOUNT_TYPE:"{TEXT, select, 0{бесплатный<br>аккаунт} one{premium<br>аккаунт} other{vip<br>аккаунт}}",YOUR_CURRENT_ACCOUNT:"Ваш текущий<br>аккаунт",HELP1:{TITLE:"Количество запросов на поиск похожих людей",TEXT1:"Это количество поисков со дня регистрации или оплаты платного аккаунта FindFace.",TEXT2:"Поиск – это загрузка фотографии одного лица. При этом поиск по этой фотографии одного лица может быть повторен неограниченное количество раз."},HELP2:{TITLE:"Просмотр профиля похожих людей в социальных сетях",TEXT:"Количество поисков по фотографии с возможностью перейти на все профили найденных людей в социальной сети ВКонтакте."},HELP3:{TITLE:"Возможность показа моего фото в начале списка «похожих» людей",TEXT:"Ваш профиль будет находиться в начале списка если вы оказались в результатах поиска."},HELP4:{TITLE:"Скрыть мой профиль из результатов поиска других людей",TEXT:"Ваш профиль не смогут найти другие пользователи FindFace."},HELP5:{TITLE:"Реклама платных сервисов в ленте и в других разделах приложения",TEXT:"Вам не будет демонстрироваться реклама в FindFace."},COUNT_TIMES:"{{ val }} раз",COUNT_TIMES_PER_MONTH:"{{ val }} раз / мес.",UNLIMITED:"Неограничено",FREE:"Бесплатно",PAYMENT_BUTTON_TEXT:"{ text, select, 0{Купить} one{Продлить} other{Вернуться} } за",PAYMENT_BUTTON_SUBTEXT:"при оплате за 12 месяцев",PER_MONTH:"/мес",PURCHASE_RULES:"Правила использования тарифов"},TOUR_SERVICE_PAGE:{TEXT1:"FindFace – это инновационный сервис знакомств, где вы можете найти новых друзей и подруг в социальной сети ВКонтакте по их фотографии.",TEXT2:"Загрузив фотографию понравившегося вам человека или сделав ее прямо из мобильного приложения FindFace, вы сможете найти похожих на него людей.",TEXT3:"FindFace автоматически определит лица на загруженной фотографии, после этого осуществит поиск людей в социальной сети ВКонтакте, максимально похожих на выбранного человека.",TEXT4:"Для увеличения точности результатов поиска, вы сможете задать возраст, город и статус отношений.",TEXT5:"В получившимся списке, наиболее похожие люди находятся в самом верху. Вы можете посмотреть профиль найденного человека в социальной сети ВКонтакте. Также вы можете добавить его в список симпатий и пообщаться с ним через мобильное приложение FindFace.",TEXT6:"Вы можете бесплатно скачать мобильное приложение FindFace, работающее на операционной системе Android.<br>Оно позволяет искать похожих людей и общаться с ними прямо со смартфона.",START_SEARCHING:"Начать искать"},NOT_FOUND_PAGE:{TITLE:"Страница не найдена",BACK_TO_HOME:"Вернуться на главную страницу"},USER_SETTINGS:{WHO_SEARCH:{ALL:"Всех",GIRL:"Девушку",GUY:"Парня"},FROM_YEARS_OLD:"От {{ val }}",TO_YEARS_OLD:"До {{ val }}",YEARS:"{{ val }}",SHOW_ALL_USERS:{TITLE:"Отображать всех пользователей",TOOLTIP:"Отображать всех пользователей, включая тех, у которых не указан возраст"},FROM_CITY:{TITLE:"из",PLACEHOLDER:"города"},RELATION:{TEXT1:"Статус: Все",TEXT2:"Не указано",TEXT3:"Влюблён / влюблена",TEXT4:"В активном поиске",TEXT5:"Всё сложно",TEXT6:"Женат / Замужем",TEXT7:"Помолвлен / Помолвлена",TEXT8:"Есть друг / Есть подруга",TEXT9:"Не женат / Не замужем"},FOUND:"Найдено",VKONTAKTE_PROFILE:"Профиль",PROCEED_TO_THE_USERS_VKONTAKTE_PROFILE:"Открыть профиль пользователя ВКонтакте",INSTALL_OUR_MOBILE_APP_TO_CHAT:"Чтобы продолжить общение установите<br>наше мобильное  приложение"},USER_ACCOUNT:{FREE:"Бесплатный аккаунт",PREMIUM:"Premium аккаунт",VIP:"VIP аккаунт",BEFORE:"до",SEARCHES_LEFT:"Осталось: {{ val }}",UNLIMITED_SEARCHES:"У вас неограниченное количество поисков.",GET_MORE:"Как получить больше?",EXTEND_VIP:"Продлить VIP-аккаунт",SHOW_ME_TOP:{TEXT:"Показывать меня<br>на 1-ом месте",TOOLTIP:"Ваш профиль будет находиться в начале списка если вы оказались в результатах поиска"},HIDE_ME_RESULTS:{TEXT:"Скрыть меня<br>в результатах",TOOLTIP:"Ваш профиль не смогут найти другие пользователи FindFace"},GET_PREMIUM_FREE_MONTH:"Получить premium аккаунт<br>на месяц бесплатно",SETTINGS:"Настройки",LOGOUT:"Выйти из аккаунта",FINISH_CONVERSION_USER_VKONTAKTE:{TITLE:"Закончились переходы на профиль пользователей Вконтакте",TEXT:"У вас закончились переходы на профиль пользователей Вконтакте. Эти функции доступны после покупки платного аккаунта."},DEACTIVATE_SUBSCRIPTION:"Отключить подписку"},GLOBAL:{FINDFACE:"FindFace",DATING_PLATFORM:"Сервис знакомств",DOWNLOAD_ON_THE_APPSTORE:"Загрузите в AppStore",ANDROID_APP_ON_GOOGLEPLAY:"Загрузите на GooglePlay",DOWNLOAD_APP_GET_TOUCH:"Скачай наше приложение,<br>чтобы начать общаться"},SETTINGS_GLOBAL:{INVITE_FRIENDS:"Пригласить друзей",LATER:"Не сейчас",NO:"Нет",YES:"Да",OK:"ОК",SEND:"Отправить",CANCEL:"Отмена",REMOVE:"Удалить",VKONTAKTE:"ВКонтакте",LOADING:"Подождите, идёт загрузка",NOT_MATCH_ANY_USER:"Не найдено ни одного пользователя.",START_SEARCHING:"Начать искать прямо сейчас!",PAYMENT_SUCCESS:"Ваша оплата прошла успешно.<br>Данные аккаунта обновлены!",PAYMENT_ERROR:"Оплата прошла неуспешно.<br>Попробуйте еще раз.",VERSION_APP_OLD:"Ваша версия приложения не актуальна.<br>Для стабильной работы приложения необходимо перезайти в аккаунт."},FOOTER:{VERIFICATION_CODE:"Ваш проверочный ключ",QUESTIONS_PLEASE_CONTACT:"По всем возникающим вопросам пишите на почту"},LANGUAGES:{SELECT_LANGUAGE:"Сменить язык / Choose Language",RUSSIAN:"Russian / Русский",ENGLISH:"English / Английский",RUSSIAN_ONLY:"Русский",ENGLISH_ONLY:"English"},MODAL:{REFFERAL_MODAL:{TITLE:"Пригласите 10 друзей и получите<br>Premium-аккаунт на месяц бесплатно",NUMBER_YOUR_REFERRALS:"По вашей<br>ссылке сервисом<br>{{ used }}<br>{{ val }} {{ friend }}",BUY_PREMIUM:"Купить<br>Premium-аккаунт<br>прямо сейчас",SHARE_VKONTAKTE:"Поделитесь ссылкой в ВКонтакте",INVITE_EMAIL:"Отправьте вашу ссылку по электронной почте",TYPE_EMAIL_SEPARATED_COMMAS:"Введите электронные адреса через запятую",PROVIDE_ONE_EMAIL:"Укажите хотя бы 1 электронный адрес",INVITE_SUCCESS:"Приглашения отправлены!",LINK_COPIED:"Ссылка скопирована"},REMOVE_SYMPATHY:{TITLE:"Вы уверены, что хотите удалить симпатию?"},REMOVE_SEARCH_HYSTORY:{TITLE:"Вы уверены, что хотите удалить историю поиска?"},GET_EMAIL:{TITLE:"Пожалуйста, укажите свой e-mail адрес",DESCRIPTION:"Пожалуйста, укажите адрес Вашей электронной почты чтобы оставаться в курсе новостей.",INVALID_EMAIL:"Некорректный e-mail адрес!"},PAYMENT_ACCOUNT:{TITLE:"Выберите подходящий способ оплаты",CREDIT_CARD:"Подписка<br>по пластиковой<br>карте",OTHER_METHOD:"Другие<br>способы<br>оплаты",INFO:"По&nbsp;всем вопросам, связанным с&nbsp;оплатой пластиковой картой через шлюз Яндекс.Кассы, пишите на&nbsp;электронный адрес&nbsp;",TOOLTIP:{AC:"Оплата с произвольной банковской карты",PC:"Оплата из кошелька в<br>Яндекс.Деньгах",GP:"Оплата наличными через кассы<br>и терминалы",WM:"Оплата из кошелька в системе<br>WebMoney",SB:"Оплата через Сбербанк: по смс<br>или Сбербанк Онлайн",MP:"Оплата через мобильный<br>терминал (mPOS)",AB:"Оплата через Альфа-Клик",QW:"Оплата через QIWI Wallet",KV:"Оплата через КупиВкредит<br>(Тинькофф Банк)"},AC_EURO:"Нажмите здесь, если ваша карта выпущена за пределами России и СНГ"},DEACTIVATE_SUBSCRIPTION:{TITLE:"Вы действительно хотите отключить подписку?",OK:"Отключить",DEACTIVATED:"Подписка успешно отключена"},RECAPTCHA:{TITLE:"Пройдите проверку чтобы продолжить поиск"},CONFIRM:{PROCEED_PAYMENT:"Перейти к оплате",PREMIUM_REQUIRED:{TITLE:"Требуется PREMIUM аккаунт",TEXT:"Эти функции доступны после покупки Premium-аккаунта."},VIP_REQUIRED:{TITLE:"Требуется VIP аккаунт",TEXT:"Эти функции доступны после покупки VIP-аккаунта."}},GLOBAL:{RELOAD_APP_LANG:"Перезагрузить приложение для применения языка?"}}}).translations("en",{PAGE_TITLES:{LOGIN:"Login",SEARCH:"Search",SEARCH_HISTORY:"Search history",SEARCH_RESULT:"Search result",SYMPATHY:"Favorites",TARIFFS:"Pricing",TOUR_SERVICE:"About"},LOGIN_PAGE:{TITLE:"Will find anybody in VK.com!",SUBTITLE:"Innovative platform to search people by photos",LOGIN_BUTTON:"Start searching by photo",USER_AGREEMENT:{TEXT1:"Agree with the",TEXT2:"terms of use",TEXT3:"terms of use"},DOWNLOAD_APPS:"VK.com is Russian largest social network.<br>You need a VK.com account to use Findface",ENGLISH_AVAILABLE_ONLY_DESKTOP:"English is available only in desktop version.",WEB_FROM_DESKTOP:"Or you can use web-version from desktop.",VIEW_TOUR_SERVER:"View site features",WRITING_US:"Recommended by"},SEARCH_PAGE:{UPLOAD_A_PHOTO:"Upload a photo",SELECT_PERSON_SEARCH:"Choose a face to search for",DRAG_A_PHOTO_HERE_OR:"Drag a photo here or<br>",CHOOSE_A_PHOTO_TO_UPLOAD:"choose a photo to upload",CHOOSE_A_PHOTO_TO_UPLOAD_MOBILE:"Choose a photo",UPLOAD_ANOTHER_PHOTO:{TEXT1:"Upload",TEXT2:"a different photo"},MAXIMUM_PHOTO_SIZE:"Maximum photo size: 5 MB",JPG_PNG_FILES:"JPG, PNG files",LOADING:"Loading",LOADING_COMPLETE:"Loading is complete!",SEARCH_COMPLETE:"The search has been completed.<br>The information on VKontakte users is being processed.",FINISH_THE_SEARCH:'You have no free searches left.<br><a href="/tariffs" class="blue-link">View pricing</a>',PHOTOS_EXCEEDED_MAX_SIZE:"You have exceeded the maximum size limit.",FILE_TYPE_NOT_SUPPORTED:"File format is not supported.",SERVER_OVERLOADED:"The server is overloaded. Please try again later.",SEARCH_COUNT_EXCEEDS:"Please, verify captcha",NOT_VERIFIED:"Not verified"},SEARCH_RESULT_PAGE:{I_SEARCH:"I search",WE_FOUND:"We Found",NEW_SEARCH:"New search",PEOPLE_FOUND:"{{ val }} people found",VIP_USER:"VIP-user",COUNT_FIND_PHOTOS:"Number of found photos"},SEARCH_HISTORY_PAGE:{TITLE:"Search history",REMOVE_ALL:"Delete search history",SEARCHING_DATE:"Searching date",TRY_AGAIN:"Try again"},SYMPATHY_PAGE:{YOUR_FAVORITES:"Your favorites",SEARCH_START:"Search"},TARIFFS_PAGE:{ACCOUNT_TYPES:"Account types",ACCOUNT_TYPE:"{TEXT, select, 0{free<br>account} one{premium<br>account} other{vip<br>account}}",YOUR_CURRENT_ACCOUNT:"Your current<br>account",HELP1:{TITLE:"Number of requested photos",TEXT1:"It is the number of requests since you have registered or purchased the account.",TEXT2:"The number of requests is equal to the number of photos you have uploaded. By each of the photos you can process the search again countless times."},HELP2:{TITLE:"View the found person's profile on social networks",TEXT:"The number of times you can proceed from the search to the found people's profiles on VKontakte social network."},HELP3:{TITLE:"Show my photo on top of others' results list",TEXT:"If you appear in someone's results list, your photo will be shown on top of the list."},HELP4:{TITLE:"Hide my profile from others' results list",TEXT:"Other FindFace users won't find your profile."},HELP5:{TITLE:"Ads in your newsfeed and other app sections",TEXT:"Whether you see ads in FindFace or not."},COUNT_TIMES:"{{ val }} times",COUNT_TIMES_PER_MONTH:"{{ val }} times per month",UNLIMITED:"Unlimited",FREE:"Free",PAYMENT_BUTTON_TEXT:"{ text, select, 0{purchase} one{extension} other{return} } for",PAYMENT_BUTTON_SUBTEXT:"if you pay for 12 months",PER_MONTH:"/mo",PURCHASE_RULES:"Purchase rules"},TOUR_SERVICE_PAGE:{TEXT1:"FindFace is an innovative platform designed to find new friends in VKontakte social network by a photo.",TEXT2:"If you upload a photo from your library or take  a picture of someone you like via FindFace mobile app, FindFace will find people who look like him or her.",TEXT3:"FindFace automatically identifies faces in the uploaded photo and searches the most similar looking people among VKontakte users.",TEXT4:"To increase the accuracy of the results, you can specify age, location and relationship status.",TEXT5:"The best matches will appear on top of the  results list.<br>You can proceed to their VKontakte profiles.<br>You can also add the found person into your favorites list and chat with him or her via FindFace mobile app.",TEXT6:"You can install the free FindFace mobile app on Android.<br>It will search for people by photos and allow you to stay in touch with them via your smartphone.",START_SEARCHING:"Start searching"},NOT_FOUND_PAGE:{TITLE:"Page Not Found",BACK_TO_HOME:"Back to home page"},USER_SETTINGS:{WHO_SEARCH:{ALL:"Anybody",GIRL:"Girl",GUY:"Guy"},FROM_YEARS_OLD:"from {{ val }} years old",TO_YEARS_OLD:"to {{ val }} years old",YEARS:"{{ val }} years old",SHOW_ALL_USERS:{TITLE:"Show all users",TOOLTIP:"Include the users of unknown age"},FROM_CITY:{TITLE:"from",PLACEHOLDER:"city"},RELATION:{TEXT1:"Relationship status: any",TEXT2:"Not specified",TEXT3:"In love",TEXT4:"Actively searching",TEXT5:"It's complicated",TEXT6:"Married",TEXT7:"Engaged",TEXT8:"In a relationship",TEXT9:"Single"},FOUND:"Found",VKONTAKTE_PROFILE:"Profile",PROCEED_TO_THE_USERS_VKONTAKTE_PROFILE:"proceed to the user's VKontakte profile",INSTALL_OUR_MOBILE_APP_TO_CHAT:"Install our<br>mobile app to chat"},USER_ACCOUNT:{FREE:"Free account",PREMIUM:"Premium account",VIP:"VIP account",BEFORE:"to",SEARCHES_LEFT:"Searches left: {{ val }}",UNLIMITED_SEARCHES:"Unlimited searches",GET_MORE:"How can I get more?",EXTEND_VIP:"Extend VIP-account",SHOW_ME_TOP:{TEXT:"Show me on top<br>of the list",TOOLTIP:"If you appear in someone's results list, your profile will be shown on top of the list"},HIDE_ME_RESULTS:{TEXT:"Hide me<br>from results list",TOOLTIP:"Other users won't find your profile"},GET_PREMIUM_FREE_MONTH:"Get a free premium account<br>for a month",SETTINGS:"Settings",LOGOUT:"Logout",FINISH_CONVERSION_USER_VKONTAKTE:{TITLE:"You have not left VK.com profile views.",TEXT:"These options are available in Premium and VIP accounts."},DEACTIVATE_SUBSCRIPTION:"Disable subscription"},GLOBAL:{FINDFACE:"FindFace",DATING_PLATFORM:"Dating platform",DOWNLOAD_ON_THE_APPSTORE:"Download on the AppStore",ANDROID_APP_ON_GOOGLEPLAY:"Android App on GooglePlay",DOWNLOAD_APP_GET_TOUCH:"Download the app<br>to get in touch"},SETTINGS_GLOBAL:{INVITE_FRIENDS:"Invite friends",LATER:"Later",NO:"No",YES:"Yes",OK:"ОК",SEND:"Send",CANCEL:"Cancel",REMOVE:"Delete",VKONTAKTE:"VKontakte",LOADING:"Loading",NOT_MATCH_ANY_USER:"Did not match any user.",START_SEARCHING:"Start searching now!",PAYMENT_SUCCESS:"The payment has been completed.<br>Your account has been updated!",PAYMENT_ERROR:"Something went wrong with the payment.<br>Please try again.",VERSION_APP_OLD:"Your version of the app is too old.<br>Please login again to continue."},FOOTER:{VERIFICATION_CODE:"Your verification code",QUESTIONS_PLEASE_CONTACT:"For any questions please contact"},LANGUAGES:{SELECT_LANGUAGE:"Choose Language / Сменить язык",RUSSIAN:"Русский / Russian",ENGLISH:"Английский / English",RUSSIAN_ONLY:"Русский",ENGLISH_ONLY:"English"},MODAL:{REFFERAL_MODAL:{TITLE:"Invite 10 friends and get a one-month<br>premium account for free",NUMBER_YOUR_REFERRALS:"{{ val }} friends joined<br>the platform<br>via your link",BUY_PREMIUM:"Buy<br>PREMIUM-account<br>now",SHARE_VKONTAKTE:"Share the link on VKontakte",INVITE_EMAIL:"Invite via e-mail",TYPE_EMAIL_SEPARATED_COMMAS:"Type in e-mail addresses separated by commas",PROVIDE_ONE_EMAIL:"Please provide at least one email address",INVITE_SUCCESS:"Invitations sent!",LINK_COPIED:"Link Copied"},REMOVE_SYMPATHY:{TITLE:"Do you want to delete a person from list?"},REMOVE_SEARCH_HYSTORY:{TITLE:"Do you want to clear your search history?"},GET_EMAIL:{TITLE:"Please, fill in your email address",DESCRIPTION:"Please, fill in your email address to subscribe for findface.ru newsfeed:",INVALID_EMAIL:"Invalid e-mail address!"},PAYMENT_ACCOUNT:{TITLE:"Choose the payment method",CREDIT_CARD:"Credit card subscription",OTHER_METHOD:"Other",INFO:"If&nbsp;you have any questions concerning the payment via Yandex.Money, contact&nbsp;",TOOLTIP:{AC:"Payment from any bank card",PC:"Payment from a Yandex.Money wallet",GP:"Cash payment via kiosks and terminals",WM:"Payment from a WebMoney wallet",SB:"Payment via Sberbank: SMS message<br>or Sberbank Online",MP:"Payment using a mobile terminal<br>(mPOS)",AB:"Payment using Alfa-Click",QW:"Payment using QIWI Wallet",KV:"Payment using KupiVkredit<br>(Tinkoff Bank)"},AC_EURO:"Click here if your card is issued outside of Russia and the CIS"},DEACTIVATE_SUBSCRIPTION:{TITLE:"Are you sure you want to deactivate the subscription?",OK:"Deactivate",DEACTIVATED:"Subscription successfully deactivated"},RECAPTCHA:{TITLE:"Please, verify captcha"},CONFIRM:{PROCEED_PAYMENT:"Proceed to the payment",PREMIUM_REQUIRED:{TITLE:"PREMIUM account required",TEXT:"These options are available only after you purchase the PREMIUM-account."},VIP_REQUIRED:{TITLE:"VIP account required",TEXT:"These options are available only after you purchase the VIP-account."}},GLOBAL:{RELOAD_APP_LANG:"Reload the App to apply language?"}}}).fallbackLanguage("ru")}]);
"use strict";angular.module("app.routing",[]).run(["$rootScope","$state","$stateParams","$window","authService",function(e,t,r,l,a){e.$state=t,e.$stateParams=r,a.initAppVK(),e.$on("$stateChangeStart",function(e,t,r,n,o){l.scrollTo(0,0),a.checkAuthorization(e,t,r,n,o)})}]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$translateProvider",function(e,t,r,l){var a=getCookie("FF.app_language"),n=window.location.hostname;if(("findface.ru"==window.location.hostname||"findface.me"==window.location.hostname)&&"http:"==window.location.protocol){var o=window.location.href.replace(/http/,"https");window.location.href=o}if(l.addInterpolation("$translateMessageFormatInterpolation").registerAvailableLanguageKeys(["ru","en"],{ru:"ru",ru_RU:"ru","ru-RU":"ru",en:"en",en_US:"en","en-US":"en"}).useSanitizeValueStrategy("escaped"),null===a||"ru"!=a&&"en"!=a)if(~navigator.language.indexOf("ru"))l.preferredLanguage("ru");else if(~navigator.language.indexOf("en"))l.preferredLanguage("en");else switch(n){case"findface.ru":l.preferredLanguage("ru");break;case"findface.me":l.preferredLanguage("en");break;default:l.preferredLanguage("ru")}else l.preferredLanguage(a);var s=l.preferredLanguage(),i=l.translations();e.state("welcome",{url:"/",data:{noLogin:!0}}).state("index",{"abstract":!0,templateUrl:templateUrl("index")}).state("not-found",{url:"/404",templateUrl:templateUrl("notFound"),controller:"NotFoundController",data:{noLogin:!0,title:"404 Not Found",pageClass:"not-found"}}).state("login",{url:"/",templateUrl:templateUrl("twinsGirls1"),controller:"TwinsGirls1Controller",data:{noLogin:!0,title:i[s]["PAGE_TITLES.LOGIN"],pageClass:"lp-twins-girls1 landing-page"}}).state("login-old",{url:"/login",templateUrl:templateUrl("twinsGirls1"),controller:"TwinsGirls1Controller",data:{noLogin:!0,title:i[s]["PAGE_TITLES.LOGIN"],pageClass:"lp-twins-girls1 landing-page"}}).state("search",{url:"/",templateUrl:templateUrl("search"),controller:"SearchController",data:{title:i[s]["PAGE_TITLES.SEARCH"],pageClass:"search"},parent:"index"}).state("search-old",{url:"/search",templateUrl:templateUrl("search"),controller:"SearchController",data:{title:i[s]["PAGE_TITLES.SEARCH"],pageClass:"search"},parent:"index"}).state("search-history",{url:"/search-history",templateUrl:templateUrl("searchHistory"),controller:"SearchHistoryController",data:{title:i[s]["PAGE_TITLES.SEARCH_HISTORY"],pageClass:"search-history"},parent:"index"}).state("search-result",{url:"/search-result",templateUrl:templateUrl("searchResult"),controller:"SearchResultController",data:{title:i[s]["PAGE_TITLES.SEARCH_RESULT"],pageClass:"search-result"},parent:"index"}).state("sympathy",{url:"/favorites",templateUrl:templateUrl("sympathy"),controller:"SympathyController",data:{title:i[s]["PAGE_TITLES.SYMPATHY"],pageClass:"sympathy"},parent:"index"}).state("tariffs",{url:"/tariffs",templateUrl:templateUrl("tariffs"),controller:"TariffsController",data:{title:i[s]["PAGE_TITLES.TARIFFS"],pageClass:"tariffs"},parent:"index"}).state("tariff-old",{url:"/tariff",templateUrl:templateUrl("tariffs"),controller:"TariffsController",data:{title:i[s]["PAGE_TITLES.TARIFFS"],pageClass:"tariffs"},parent:"index"}).state("tour-service",{url:"/tour-service",templateUrl:templateUrl("tourService"),controller:"TourServiceController",data:{noLogin:!0,title:i[s]["PAGE_TITLES.TOUR_SERVICE"],pageClass:"tour-service"}}).state("for-girls1",{url:"/landing/girls/1",templateUrl:templateUrl("forGirls1"),controller:"ForGirls1Controller",data:{noLogin:!0,title:"Скучаешь по бывшему?",pageClass:"lp-for-girls1 landing-page"}}).state("for-girls2",{url:"/landing/girls/2",templateUrl:templateUrl("forGirls2"),controller:"ForGirls1Controller",data:{noLogin:!0,title:"Скучаешь по бывшему?",pageClass:"lp-for-girls2 landing-page"}}).state("for-guys1",{url:"/landing/guys/1",templateUrl:templateUrl("forGuys1"),controller:"ForGuys1Controller",data:{noLogin:!0,title:"Скучаешь по бывшей?",pageClass:"lp-for-guys1 landing-page"}}).state("for-guys2",{url:"/landing/guys/2",templateUrl:templateUrl("forGuys2"),controller:"ForGuys2Controller",data:{noLogin:!0,title:"Скучаешь по бывшей?",pageClass:"lp-for-guys2 landing-page"}}).state("she-threw1",{url:"/landing/threw",templateUrl:templateUrl("sheThrew1"),controller:"sheThrew1Controller",data:{noLogin:!0,title:"Бросила девушка?",pageClass:"lp-she-threw1 landing-page"}}).state("twins-girls2",{url:"/landing/bliznyashki/2",templateUrl:templateUrl("twinsGirls2"),controller:"TwinsGirls2Controller",data:{noLogin:!0,title:"Мечтаешь о близняшках?",pageClass:"lp-twins-girls2 landing-page"}}).state("twins-girls3",{url:"/landing/bliznyashki/3",templateUrl:templateUrl("twinsGirls3"),controller:"TwinsGirls2Controller",data:{noLogin:!0,title:"Мечтаешь о близняшках?",pageClass:"lp-twins-girls3 landing-page"}}),t.otherwise(function(e,t){var r=t.path().slice(1);t.url("404?url="+r)}),r.html5Mode(!0).hashPrefix("!")}]);
"use strict";angular.module("app.config",[]).config(["$httpProvider","localStorageServiceProvider",function(e,t){t.setPrefix("FF"),e.interceptors.push("unauthorizedError")}]).constant("routeApiMethods",{hostname:1==new RegExp(window.location.hostname).test(/(findface.ru|findface.me)/i)?"//webapi.findface.ru":1==new RegExp(window.location.hostname).test(/(findface.local|findface)/i)?"http://webapifindface.dev-itf.ru":"http://webapi."+window.location.hostname,cropper_server:1==new RegExp(window.location.hostname).test(/(findface.ru|findface.me)/i)?"//cropper.findface.ru":"http://webapi.findface.dev-itf.ru",user_new:"/v2/user/new",user_email:"/v2/user-email/new",email_sending:"/v2/user-email/sending",user_info:"/v2/user-info/list",user_top_search:"/v2/user-info/top",user_hide_search:"/v2/user-info/hide",vk_profile_open:"/v2/user-info/edit-open-count",photo_detect:"/v2/search/detect",search_list:"/v2/search/list3",search_history:"/v2/search/history",delete_history:"/v2/search/delete-history",sympathy_list:"/v2/like/list",sympathy_like:"/v2/like/new",sympathy_dislike:"/v2/like/dislike",product_list:"/v2/product/list-yandex",deactivate_subscription:"/v2/payment/cancel-yandex-repeat-payment",crop_photo:"/v2/test/crop-me",load_avg:"/v2/test/load-avg",recaptcha:"/v2/search/recaptcha"});
"use strict";angular.module("app.login",[]).controller("LoginController",["$scope",function(e){e.checkUserAgreement=!0}]);
"use strict";angular.module("app.notFound",[]).controller("NotFoundController",function(){});
"use strict";angular.module("app.search",[]).controller("SearchController",["$rootScope","$scope","$translate","$http","$location","$timeout","localStorageService","Upload","$uibModal","usersService",function(e,t,o,a,s,r,n,_,l,i){function u(e,a,s){_.upload({method:"POST",headers:{Authorization:"Bearer "+t.CONFIG.access_token},url:t.CONFIG.api_methods.hostname+t.CONFIG.api_methods.photo_detect,params:{user_id:t.CONFIG.user_settings.user_id,app_type:"web"},data:{image:e}}).progress(function(e){t.uploadProgress=parseInt(100*e.loaded/e.total)}).success(function(e){r(function(){if(t.uploadProgress=null,t.bboxesData=e,t.bboxesData&&!t.bboxesData.error){if(t.formulaDropzone=s.width()/a.width(),1==t.bboxesData.bboxes.length&&"done"!=t.foundStatus)return t.foundStatus="done",o(["SEARCH_PAGE.UPLOAD_A_PHOTO","SEARCH_PAGE.SEARCH_COMPLETE"]).then(function(e){t.searchTitle=e["SEARCH_PAGE.UPLOAD_A_PHOTO"],t.message=e["SEARCH_PAGE.SEARCH_COMPLETE"]}),NProgress.set(.3),NProgress.start(),i.getSearchList({x1:t.bboxesData.bboxes[0].x1,y1:t.bboxesData.bboxes[0].y1,x2:t.bboxesData.bboxes[0].x2,y2:t.bboxesData.bboxes[0].y2,hash:t.bboxesData.bboxes[0].hash,image_hash:t.bboxesData.image_hash,detect_photo:t.bboxesData.detect_photo_url,md5_image_hash_file:t.bboxesData.md5_image_hash_file});t.foundStatus=2,o("SEARCH_PAGE.SELECT_PERSON_SEARCH").then(function(e){t.searchTitle=e}),s.height()/t.formulaDropzone<335&&a.css("min-height",s.height()/t.formulaDropzone),t.rectBboxClick=function(e){return"done"!=t.foundStatus?(t.foundStatus="done",NProgress.set(.3),NProgress.start(),i.getSearchList({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,hash:e.hash,image_hash:t.bboxesData.image_hash,detect_photo:t.bboxesData.detect_photo_url,md5_image_hash_file:t.bboxesData.md5_image_hash_file})):void 0}}},0)}).error(function(r){if("search_count_exceeds"==r.type){o("SEARCH_PAGE.SEARCH_COUNT_EXCEEDS").then(function(e){t.errorMsg=e});var n=l.open({templateUrl:templateUrl("recaptchaModal"),controller:"recaptchaModalController",windowClass:"recaptcha-modal"});n.result.then(function(t){"success"==t&&u(e,a,s)})}else o("SEARCH_PAGE.SERVER_OVERLOADED").then(function(e){t.errorMsg=e})})}o("SEARCH_PAGE.UPLOAD_A_PHOTO").then(function(e){t.searchTitle=e}),t.upload=function(e){var a=angular.element(".search__dropzone"),s=angular.element(".search__original-photo");return t.file=null,t.uploadProgress=null,t.bboxesData=null,t.message=null,t.errorMsg=null,t.foundStatus=null,a.removeAttr("style"),e?(t.file=e,0==t.CONFIG.user_settings.search_count?void r(function(){o("SEARCH_PAGE.FINISH_THE_SEARCH").then(function(e){t.message=e})},0):void u(e,a,s)):void r(function(){o(["SEARCH_PAGE.PHOTOS_EXCEEDED_MAX_SIZE","SEARCH_PAGE.FILE_TYPE_NOT_SUPPORTED"]).then(function(e){t.errorMsg=t.uploadPhotoForm.$error.maxSize?e["SEARCH_PAGE.PHOTOS_EXCEEDED_MAX_SIZE"]:e["SEARCH_PAGE.FILE_TYPE_NOT_SUPPORTED"]})},0)}}]);
"use strict";angular.module("app.searchHistory",[]).controller("SearchHistoryController",["$rootScope","$scope","$translate","$http","$location","$timeout","localStorageService","Notification","$uibModal","usersService","ErrorService",function(e,t,r,o,s,a,i,c,n,l,h){t.orderPropDate="-create_time",l.getSearchHistoryList({callback:function(){t.listSearchHistory=e.listSearchHistory}}),t.findAgain=function(e,s,a,i,h,u,_){function p(){o({method:"POST",headers:{Authorization:"Bearer "+t.CONFIG.access_token},url:t.CONFIG.api_methods.hostname+t.CONFIG.api_methods.photo_detect,params:{user_id:t.CONFIG.user_settings.user_id,image_url:u,app_type:"web"}}).success(function(t){return NProgress.set(.6),l.getSearchList({x1:e,y1:a,x2:s,y2:i,hash:_,image_hash:t.image_hash,detect_photo:h,md5_image_hash_file:t.md5_image_hash_file})}).error(function(e){if(NProgress.done(),"search_count_exceeds"==e.type){var t=n.open({templateUrl:templateUrl("recaptchaModal"),controller:"recaptchaModalController",windowClass:"recaptcha-modal"});t.result.then(function(e){"success"==e&&p()})}else r("SEARCH_PAGE.SERVER_OVERLOADED").then(function(e){c.error({message:e,delay:1e4,positionX:"left",positionY:"bottom"})})})}NProgress.set(.2),NProgress.start(),p()},t.deleteSearchHistory=function(){r("MODAL.REMOVE_SEARCH_HYSTORY.TITLE").then(function(e){h.confirm({type:"DELETE_SEARCH_HISTORY",title:e}).then(function(){l.deleteSearchHistory()})})}}]);
"use strict";angular.module("app.searchResult",[]).controller("SearchResultController",["$rootScope","$scope","$http","$timeout","$uibModal","localStorageService","md5","ageRangeFilterHeader","usersService",function(e,r,t,a,i,s,o,l,n){NProgress.done(),r.ageRangeFilter=l.ageRangeFilter({minAge:14,maxAge:55,currentMin:14,currentMax:55,minAgeFilter:14,maxAgeFilter:150}),n.getListSympathyPutDown({update:!0,callback:function(){r.listSympathy=e.listSympathy}}),r.searchFacePhoto=s.get("searchFacePhoto"),r.usersList=s.get("usersSearchList")||e.spareUsersSearchList,r.genderSelect=s.get("usersMaxGender").max,r.orderPropSimilarity="similarity",r.viewUserProfileFound=function(e){n.foundUserProfile(e)},r.CONFIG.user_data.email||"no-email@website.ru"!=r.CONFIG.user_settings.email||n.getUserEmail()}]);
"use strict";angular.module("app.sympathy",[]).controller("SympathyController",["$rootScope","$scope","$http","$timeout","localStorageService","$translate","md5","ageRangeFilterHeader","usersService",function(e,t,r,a,i,o,l,n,c){t.ageRangeFilter=n.ageRangeFilter({minAge:14,maxAge:55,currentMin:14,currentMax:55,minAgeFilter:14,maxAgeFilter:150}),t.orderPropDate="-like_create_time",c.getListSympathyPutDown({placedScope:!0,callback:function(){t.listSympathy=e.listSympathy}}),t.viewUserProfileFound=function(e){c.foundUserProfile(e)}}]);
"use strict";angular.module("app.tariffs",[]).controller("TariffsController",["$rootScope","$scope","$location","$http","$uibModal","localStorageService","usersService","notifyService",function(t,e,o,l,c,r,n,a){e.pageData={result:"loading",popover_url:{tmpl_1:"countRequestSearch.html",tmpl_2:"viewProfileUsersVk.html",tmpl_3:"myAccountSearchTop.html",tmpl_4:"myAccountHideSearchResult.html",tmpl_5:"advertisingAllApplication.html"}},a.notify(),n.getProductsListTariffs({callback:function(){e.pageData.result="success"}}),e.openPaymentAccountModal=function(e){c.open({templateUrl:templateUrl("paymentAccountModal"),controller:"PaymentAccountModalController",windowClass:"payment-account-modal",resolve:{paymentType:function(){return e},productList:function(){return t.productList}}})}}]);
"use strict";angular.module("app.tourService",[]).controller("TourServiceController",["$scope",function(r){}]);
"use strict";angular.module("directives",[]).directive("toggleClass",function(){return{restrict:"A",link:function(e,t,o){t.bind("click",function(){t.toggleClass(o.toggleClass)})}}}).directive("innerWrapperHeight",["$window","$timeout",function(e,t){return{restrict:"A",link:function(o,r,n){var i=function(){var e=angular.element(".page__wrapper"),o=angular.element(".outer-header-wrapper"),n=angular.element(".footer");t(function(){angular.element(r).css({"min-height":e.height()-(o.outerHeight(!0)+n.outerHeight(!0))})},0)};i(),angular.element(e).on("resize",i)}}}]).directive("loginLogoutAppBtn",["authService",function(e){return{restrict:"A",scope:!0,link:function(t,o,r){t.btnLoginDisabled=!1,t.login=function(){console.log("Start Login");var r=o.text();t.btnLoginDisabled=!0,o.html('<div class="loading"><span>&bull;</span><span>&bull;</span><span>&bull;</span></div>'),console.log("1"),e.loginApp(function(){t.btnLoginDisabled=!1,o.html(r),t.$apply()})},t.logout=function(){e.logoutApp()}}}}]).directive("sympathyPutDeleteBtn",["$timeout","$translate","localStorageService","usersService","ErrorService",function(e,t,o,r,n){return{restrict:"A",link:function(e,i,a){e.clickSympathyBtn=function(i){if(a.confirmDeletion)return void t("MODAL.REMOVE_SYMPATHY.TITLE").then(function(t){n.confirm({type:"DELETE_SYMPATHY",title:t}).then(function(){r.putRemoveSympathyMethod({method:"DELETE",path:e.CONFIG.api_methods.sympathy_dislike,userId:i.user_id,callback:function(){var t=o.get("usersSearchList");angular.forEach(i,function(e,r){"user_id"==r&&angular.forEach(t,function(r,n){e==r.user_id&&(r.sympathy=0,o.set("usersSearchList",t))})}),e.listSympathy.splice(e.listSympathy.indexOf(i),1),r.getListSympathyPutDown({update:!0,placedScope:!1})}})})});switch(i.sympathy=!i.sympathy,i.sympathy=i.sympathy?1:0,o.set("usersSearchList",e.usersList),!!i.sympathy){case!0:r.putRemoveSympathyMethod({method:"POST",path:e.CONFIG.api_methods.sympathy_like,userId:i.user_id,callback:function(){r.getListSympathyPutDown({update:!0})}});break;case!1:r.putRemoveSympathyMethod({method:"DELETE",path:e.CONFIG.api_methods.sympathy_dislike,userId:i.user_id,callback:function(){r.getListSympathyPutDown({update:!0})}})}}}}}]).directive("myModalPosition",["$window","$timeout",function(e,t){return{link:function(o,r,n){var i=function(){var e=r[0].parentNode.offsetHeight,t=r[0].parentNode.parentNode.parentNode,o=angular.element(".media_modal_bottom_panel_wrap",t)[0],i=t.offsetHeight-(o&&o.offsetHeight||0);i>e?angular.element(r[0].parentNode).css("marginTop",(i-e)/2):angular.element(r[0].parentNode).css("marginTop",""),"no"!=n.animation&&angular.element(r[0].parentNode).addClass("modal-content-animated")};t(function(){i()},0),angular.element(e).on("resize",i),o.updateMarginModal=function(){t(function(){i()},0)}}}}]).directive("deactivateSubscription",["$translate","ErrorService","usersService","Notification",function(e,t,o,r){return{link:function(n,i,a){n.deactivateSubscriptionModal=function(){e("MODAL.DEACTIVATE_SUBSCRIPTION.TITLE").then(function(n){t.confirm({type:"DEACTIVATE_SUBSCRIPTION",title:n}).then(function(){e("MODAL.DEACTIVATE_SUBSCRIPTION.DEACTIVATED").then(function(e){o.deactivateSubscription(),r.success({message:e,delay:5e3,positionX:"left",positionY:"bottom"})})})})}}}}]).directive("switchCheckbox",["$translate","ErrorService","usersService",function(e,t,o){return{link:function(r,n,i){r.settingsUserChanged=function(e,t){switch(e){case"search_top":o.optionsResultSearchUser({status:t,typeOption:e,requestPath:r.CONFIG.api_methods.user_top_search});break;case"hide_from_search":o.optionsResultSearchUser({status:t,typeOption:e,requestPath:r.CONFIG.api_methods.user_hide_search})}},r.requiredPaidAccount=function(o){switch(o){case"premium":e(["MODAL.CONFIRM.PREMIUM_REQUIRED.TITLE","MODAL.CONFIRM.PREMIUM_REQUIRED.TEXT"]).then(function(e){t.confirm({type:"REQUIRED_PAID_ACCOUNT",title:e["MODAL.CONFIRM.PREMIUM_REQUIRED.TITLE"],message:e["MODAL.CONFIRM.PREMIUM_REQUIRED.TEXT"]})});break;case"vip":e(["MODAL.CONFIRM.VIP_REQUIRED.TITLE","MODAL.CONFIRM.VIP_REQUIRED.TEXT"]).then(function(e){t.confirm({type:"REQUIRED_PAID_ACCOUNT",title:e["MODAL.CONFIRM.VIP_REQUIRED.TITLE"],message:e["MODAL.CONFIRM.VIP_REQUIRED.TEXT"]})})}}}}}]).directive("sliderUserProfile",function(){return{template:'<div class="fotorama"></div>',replace:!0,restrict:"E",scope:{userdata:"="},link:function(e,t,o){var r=hello("vk"),n=function(e,t){angular.forEach(e,function(e,t){e.photo_1280?this.push({img:e.photo_1280}):e.photo_807?this.push({img:e.photo_807}):e.photo_604?this.push({img:e.photo_604}):e.photo_130?this.push({img:e.photo_130}):this.push({img:e.photo_75})},t)},i=[];angular.forEach(e.userdata.photos,function(e){i.push({img:e})}),r.api("photos.getAll?owner_id="+e.userdata.user_id+"&extended=1&no_service_albums=0&v=5.44").then(function(o){n(o.response.items,e.firstPhotosSlider=[]),angular.element(t).fotorama({data:i}),angular.element(t).fotorama({data:e.firstPhotosSlider})}),angular.element(t).on("fotorama:show",function(t,o,i){o.activeIndex+6>=o.size&&r.api("photos.getAll?owner_id="+e.userdata.user_id+"&extended=1&offset="+o.size+"&no_service_albums=0&v=5.44").then(function(e){n(e.response.items,o)})})}}}).directive("referralProgramHeader",["localStorageService","$uibModal",function(e,t){return{restrict:"A",link:function(o,r,n){null===e.cookie.get("show_referral_program_header")&&e.cookie.set("show_referral_program_header",!0,1),o.showReferralProgram=e.cookie.get("show_referral_program_header"),o.close=function(){e.cookie.set("show_referral_program_header",!1),o.showReferralProgram=!1},o.openModal=function(){t.open({templateUrl:templateUrl("referralProgramModal"),controller:"ReferralProgramModalController",windowClass:"referral-program-modal"})}}}}]).directive("voteForUs",["localStorageService",function(e){return{restrict:"A",link:function(t,o,r){null===e.cookie.get("show_vote_for_us")&&e.cookie.set("show_vote_for_us",!0,1),t.showVoteForUs=e.cookie.get("show_vote_for_us"),t.close=function(){e.cookie.set("show_vote_for_us",!1),t.showVoteForUs=!1}}}}]);
"use strict";angular.module("filters",[]).filter("rangeFilter",function(){return function(r,t,e,a,n){for(var u=[],l=parseFloat(e),s=parseFloat(a),i=0,o=r.length;o>i;++i){var f=r[i];n?(f[t]>=l&&f[t]<=s||0==f[t])&&u.push(f):f[t]>=l&&f[t]<=s&&u.push(f)}return u}});
"use strict";!function(){try{window==window.top||window.chrome&&chrome.app&&chrome.app.window?document.documentElement.style.display="block":top.location=self.location}catch(e){console.error("CJ protection",e)}if(window.safeConfirm=function(e,n){"string"==typeof e&&(e={message:e});var t=!1;try{t=confirm(e.message)}catch(o){t=!0}setTimeout(function(){n(t)},10)},window.applicationCache&&window.addEventListener){var n=window.applicationCache,t=!1,o=function(e){clearTimeout(t),t=setTimeout(function(){try{n.update()}catch(e){console.log("appCache.update: "+e)}},e||3e5)},i=function(){n.addEventListener("updateready",function(e){n.status==n.UPDATEREADY&&(window.location.reload(),o())},!1),n.addEventListener("noupdate",function(){return o()},!1),n.addEventListener("error",function(){return o()},!1)};o(3e3),window.addEventListener("load",i)}}();
"use strict";function dT(){return"["+(((new Date).getTime()-_logTimer)/1e3).toFixed(3)+"]"}function templateUrl(e){return"views/"+e+".html?v="+templateVersion}function dataJsonUrl(e){return"data/"+e+".json?v="+templateVersion}function versionCompare(e,t){"string"!=typeof e&&(e=""),"string"!=typeof t&&(t=""),e=e.replace(/^\s+|\s+$/g,"").split("."),t=t.replace(/^\s+|\s+$/g,"").split(".");var n=Math.max(e.length,t.length),o=void 0;for(o=0;n>o;o++)if(e[o]!=t[o])return e[o]>t[o]?1:-1;return 0}function isEmptyObject(e){for(var t in e)return e;return null}function getCookie(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):null}function declensionWordNum(e,t){var n=[2,0,1,1,1,2];return t[e%100>4&&20>e%100?2:n[5>e%10?e%10:5]]}function scheduleUpdateGlobal(e){function t(e){void 0!==e&&(e.value="H"==e.type?60*e.value*1e3*60:"M"==e.type?60*e.value*1e3:"S"==e.type?1e3*e.value:!1)}function n(){0!=e.callbackPresence&&(clearTimeout(o),1==i&&(e.callback(),i=!1),i=!1,o=setTimeout(function(){i=!0},void 0!==e.idleWail?e.idleWail.value:3e5))}t(e.delay),t(e.idleWail);var o=null,i=!1;setTimeout(function l(){0==i&&(e.callback(),e.infoText&&console.log(dT(),e.infoText)),1==e.autoUpdate&&setTimeout(l,void 0!==e.delay?e.delay.value:3e5)},0);document.addEventListener("mousemove",n),document.addEventListener("keydown",n),document.addEventListener("scroll",n)}var _logTimer=(new Date).getTime();
"use strict";angular.module("services",[]).service("authService",["$injector","$rootScope","$http","$location","$timeout","localStorageService","$translate","$uibModal","Notification",function(e,t,o,a,s,r,i,n,c){function u(e,o,a,s,i){var n=t.CONFIG.authorized;if(o.data.noLogin){if(n)return void("welcome"!=o.name&&"login"!=o.name||(e.preventDefault(),t.$state.go("search")));_.getInvitationCode(),"welcome"==o.name&&(e.preventDefault(),t.$state.go("login"))}else{if(n)return p.checkUserSession(),void("search-result"!=o.name||r.get("usersSearchList")||t.spareUsersSearchList||(e.preventDefault(),t.$state.go("search")));e.preventDefault(),t.$state.go("login")}}function l(){var e=function(e){var t=(new Date).getTime()/1e3;return e&&e.access_token&&e.expires>t};return e(f.getAuthResponse())?void f.api("me",function(e){return e.error?(c.error({message:"<b>Error Code</b>: "+e.error.code+"<br><b>Error Message</b>: "+e.error.message,delay:1e4,positionX:"left",positionY:"bottom"}),console.info("TIMELOG: "+dT()+"\n","ERROR CODE: "+e.error.code+"\n","ERROR MESSAGE: "+e.error.message),p.logoutApp(),!1):void 0}):(console.log(dT(),"The session has expired"),p.logoutApp(),!1)}function h(e){console.log(2),f.login({force:!1}).then(function(e){console.log(3),r.cookie.set("access_token",e.authResponse.access_token),t.CONFIG.access_token=e.authResponse.access_token,o({method:"POST",url:t.CONFIG.api_methods.hostname+t.CONFIG.api_methods.user_new,params:{uid:e.authResponse.user_id,token:t.CONFIG.access_token,invite_referral:r.cookie.get("invitation_hash")?r.cookie.get("invitation_hash"):"",referral_url:document.referrer?document.referrer:""}}).then(function(){console.log(4),f.api("me").then(function(e){console.log(5,1),r.set("userData",e),t.CONFIG.user_data=e,e.email&&(o({method:"POST",headers:{Authorization:"Bearer "+t.CONFIG.access_token},url:t.CONFIG.api_methods.hostname+t.CONFIG.api_methods.user_email,params:{email:e.email}}),console.log(5,2)),console.log(5,3),o({method:"GET",headers:{Authorization:"Bearer "+t.CONFIG.access_token},url:t.CONFIG.api_methods.hostname+t.CONFIG.api_methods.user_info}).then(function(e){console.log(6),r.set("userSettings",e.data),t.CONFIG.user_settings=e.data,r.cookie.set("authorized",!0),t.CONFIG.authorized=!0,r.cookie.remove("invitation_hash"),t.$state.go("search",{},{reload:!0}),console.log(dT(),"You have successfully logged in")})})})},e)}function d(){var e=function(e){r.clearAll(),r.cookie.remove("access_token"),r.cookie.remove("authorized"),t.CONFIG.authorized=!1,t.$state.go("login",{},{reload:!0}),console.log(dT(),e)};f.logout({display:"none"}).then(function(){e("You came out of the application")},function(){e("An unexpected error occurred and you have been redirected to the login page")})}function m(){var e="findface.ru"==window.location.hostname||"findface.me"==window.location.hostname?5150352:5268643;hello.init({vk:e},{redirect_uri:"/redirect.html",scope:"photos,email,share"})}var p=this,f=hello("vk"),_=e.get("usersService");p.checkAuthorization=u,p.checkUserSession=l,p.loginApp=h,p.logoutApp=d,p.initAppVK=m}]).service("usersService",["$rootScope","$http","$location","$timeout","localStorageService","$translate","$uibModal",function(e,t,o,a,s,r,i){function n(){t({method:"GET",headers:{Authorization:"Bearer "+e.CONFIG.access_token},url:e.CONFIG.api_methods.hostname+e.CONFIG.api_methods.load_avg}).then(function(t){s.set("loadAverage",t.data),e.CONFIG.load_average=+t.data})}function c(){o.search().invitation&&s.cookie.set("invitation_hash",o.search().invitation)}function u(o){t({method:"GET",headers:{Authorization:"Bearer "+e.CONFIG.access_token},url:e.CONFIG.api_methods.hostname+e.CONFIG.api_methods.user_info}).then(function(t){s.set("userSettings",t.data),1==o.placedScope&&(e.CONFIG.user_settings=t.data),void 0!==o.callback&&o.callback()})}function l(){t({method:"POST",headers:{Authorization:"Bearer "+e.CONFIG.access_token},url:e.CONFIG.api_methods.hostname+e.CONFIG.api_methods.deactivate_subscription}).success(function(){return O.refreshUserSettings({placedScope:!0})})}function h(){var o=i.open({templateUrl:templateUrl("getUserEmailModal"),controller:"GetUserEmailModalController",windowClass:"get-user-email-modal"});o.result.then(function(o){t({method:"POST",headers:{Authorization:"Bearer "+e.CONFIG.access_token},url:e.CONFIG.api_methods.hostname+e.CONFIG.api_methods.user_email,params:{email:o}}).success(function(){return O.refreshUserSettings({placedScope:!0})})})}function d(o,a){t({method:"POST",headers:{Authorization:"Bearer "+e.CONFIG.access_token},url:e.CONFIG.api_methods.hostname+e.CONFIG.api_methods.email_sending,params:{emails:o}}).success(a)}function m(o){var a=1==o.status?1:0;t({method:"POST",headers:{Authorization:"Bearer "+e.CONFIG.access_token},url:e.CONFIG.api_methods.hostname+o.requestPath,params:{status:a}}).success(function(){var e=s.get("userSettings");e[o.typeOption]=a,s.set("userSettings",e)})}function p(o){var a="&x1="+o.x1+"&y1="+o.y1+"&x2="+o.x2+"&y2="+o.y2,r={};O.getLoadAverage(),O.getListSympathyPutDown({update:!0,getObject:r}),t({method:"GET",headers:{Authorization:"Bearer "+e.CONFIG.access_token},url:e.CONFIG.api_methods.hostname+e.CONFIG.api_methods.search_list,params:{user_id:e.CONFIG.user_settings.user_id,x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,hash:o.hash,image_hash:o.image_hash,n:100,md5_image_hash_file:o.md5_image_hash_file},timeout:15e3}).success(function(t){var i=[],n=[],c={},u=[],l={max:"",female:0,male:0};angular.forEach(t,function(e,t){-1==i.indexOf(e.user_id)&&(i.push(e.user_id),c[e.user_id]=e),n.push(e.user_id+"_"+e.photo_id)}),G.api("users.get?user_ids="+i.join(",")+"&fields=sex,city,bdate,photo_max,relation&name_case=Nom&v=5.50").then(function(i){G.api("photos.getById?photos="+n.join(",")+"&extended=0&photo_sizes=1&v=5.50").then(function(n){angular.forEach(i.response,function(e,t){if(void 0!==this[e.id]){var o="",a=0;if(void 0!==e.bdate){var s=e.bdate.split("."),i=s[0],n=s[1],c=s[2]?s[2]:0;if(i&&n&&c){var u=(new Date).getFullYear();o=+new Date(u,n,i)>+new Date?u-c-1:u-c}}void 0!==r.users&&void 0!==r.users[e.id]&&(a=r.users[e.id].sympathy),this[e.id]={user_id:e.id,first_name:e.first_name,last_name:e.last_name,age:o,sex:1==e.sex?"F":2==e.sex?"M":0,relation:e.relation||"",city:void 0!==e.city?e.city.title:"",sympathy:a,photo_max:e.photo_max,photos:[],similarity:this[e.id].similarity,search_top:this[e.id].search_top,hide_from_search:this[e.id].hide_from_search}}},c),angular.forEach(t,function(t,o){void 0!==this[t.user_id]&&(angular.forEach(n.response,function(o,a){var s=c;t.photo_id==o.id&&(e.CONFIG.load_average<5?0===t.width&&0===t.height?angular.forEach(o.sizes,function(a,r){"x"===a.type&&s[o.owner_id].photos.push(e.CONFIG.api_methods.cropper_server+e.CONFIG.api_methods.crop_photo+"?url="+a.src+"&x1="+t.bbox[0]+"&y1="+t.bbox[1]+"&x2="+t.bbox[2]+"&y2="+t.bbox[3])}):!function(){var a=0;angular.forEach(o.sizes,function(r,i){r.width===t.width&&r.height===t.height&&0==a&&(s[o.owner_id].photos.push(e.CONFIG.api_methods.cropper_server+e.CONFIG.api_methods.crop_photo+"?url="+r.src+"&x1="+t.bbox[0]+"&y1="+t.bbox[1]+"&x2="+t.bbox[2]+"&y2="+t.bbox[3]),a++)})}():s[o.owner_id].photos.push(s[o.owner_id].photo_max))},c),this[t.user_id].total_photos=this[t.user_id].photos.length,0==this[t.user_id].photos.length&&-1==this[t.user_id].photo_max.indexOf("camera_200"),(~this[t.user_id].photo_max.indexOf("deactivated_200")||0==this[t.user_id].photos.length)&&delete this[t.user_id])},c),angular.forEach(c,function(e,t){this.push(e),l.female+l.male!=60&&("F"==e.sex?l.female++:"M"==e.sex&&l.male++)},u),l.male>0&&l.male>l.female?l.max=l.male/l.female>=2?"M":"":l.female>0&&l.male<l.female?l.max=l.female/l.male>=2?"F":"":l.max="",s.set("searchFacePhoto",e.CONFIG.api_methods.cropper_server+e.CONFIG.api_methods.crop_photo+"?url="+o.detect_photo+a),s.set("usersSearchList",u),s.set("usersMaxGender",l),s.get("usersSearchList")||(e.spareUsersSearchList=u),O.refreshUserSettings({placedScope:!0}),O.getSearchHistoryList({update:!0}),e.$state.go("search-result")})})}).error(function(){return NProgress.done()})}function f(o){var a=s.get("listSympathy"),i=function(e,t){e.users=t};null===a||1==o.update?(1==o.placedScope&&r("SETTINGS_GLOBAL.LOADING").then(function(t){e.listSympathy={result:"loading",msg:t+'<span class="loading"><span>&bull;</span><span>&bull;</span><span>&bull;</span></span>'}}),t({method:"GET",headers:{Authorization:"Bearer "+e.CONFIG.access_token},url:e.CONFIG.api_methods.hostname+e.CONFIG.api_methods.sympathy_list,params:{app_type:"web"}}).then(function(t){if(void 0!==t.data.result.users&&"error"!=t.data.result){var a=[];angular.forEach(t.data.result.users,function(e,t){e.user_id=t,e.sympathy=1,this.push(e)},a),1==o.placedScope&&(e.listSympathy=[],e.listSympathy=a),s.set("listSympathy",a),void 0!==o.getObject&&i(o.getObject,t.data.result.users)}else s.set("listSympathy",t.data),e.listSympathy=t.data;void 0!==o.callback&&o.callback()})):e.listSympathy=s.get("listSympathy")}function _(o){t({method:o.method,headers:{Authorization:"Bearer "+e.CONFIG.access_token},url:e.CONFIG.api_methods.hostname+o.path,params:{id:o.userId,app_type:"mob"}}).success(function(){void 0!==o.callback&&o.callback()})}function g(o){var a=s.get("listSearchHistory");null===a||1==o.update?(r("SETTINGS_GLOBAL.LOADING").then(function(t){e.listSearchHistory={result:"loading",msg:t+'<span class="loading"><span>&bull;</span><span>&bull;</span><span>&bull;</span></span>'}}),t({method:"GET",headers:{Authorization:"Bearer "+e.CONFIG.access_token},url:e.CONFIG.api_methods.hostname+e.CONFIG.api_methods.search_history,params:{app_type:"web"}}).then(function(t){s.set("listSearchHistory",t.data),e.listSearchHistory=t.data,void 0!==o.callback&&o.callback()})):e.listSearchHistory=a}function v(){t({method:"DELETE",headers:{Authorization:"Bearer "+e.CONFIG.access_token},url:e.CONFIG.api_methods.hostname+e.CONFIG.api_methods.delete_history}).success(function(){s.remove("listSearchHistory"),O.getSearchHistoryList({update:!0})})}function y(o){null===s.get("productList")||1==o.update?t({method:"GET",headers:{Authorization:"Bearer "+e.CONFIG.access_token},url:e.CONFIG.api_methods.hostname+e.CONFIG.api_methods.product_list}).then(function(t){var a=t.data.product_amounts;a.premiumyear=Math.ceil(a.premiumyear/12),a.vipyear=Math.ceil(a.vipyear/12),a.premmonth=Math.ceil(a.premmonth),a.vipmonth=Math.ceil(a.vipmonth),s.set("productList",t.data),e.productList=t.data,void 0!==o.callback&&o.callback()}):(e.productList=s.get("productList"),void 0!==o.callback&&o.callback())}function S(e){O.getListSympathyPutDown({update:!1});var t=i.open({templateUrl:templateUrl("userProfileFoundModal"),controller:"UserProfileFoundModalController",windowClass:"user-profile-found-modal",resolve:{userData:function(){return e}}});t.result.then(function(){O.getListSympathyPutDown({update:!1})},function(){O.getListSympathyPutDown({update:!1})})}var O=this,G=hello("vk");O.getLoadAverage=n,O.getInvitationCode=c,O.refreshUserSettings=u,O.deactivateSubscription=l,O.getUserEmail=h,O.sendInvitations=d,O.optionsResultSearchUser=m,O.getSearchList=p,O.getListSympathyPutDown=f,O.putRemoveSympathyMethod=_,O.getSearchHistoryList=g,O.deleteSearchHistory=v,O.getProductsListTariffs=y,O.foundUserProfile=S}]).service("notifyService",["$location","$timeout","$translate","$analytics","Notification",function(e,t,o,a,s){function r(){switch(e.search().notify){case"payment_success":var t=e.search(),a=(t.id||t.orderNumber,t.orderSumAmount||t.price,t.orderNumber||t.type);~a.indexOf("premmonth")?"Premium на месяц":~a.indexOf("premyear")?"Premium на год":~a.indexOf("vipmonth")?"VIP на месяц":~a.indexOf("vipyear")?"VIP на год":"Название продукта не определено",~a.indexOf("premmonth")?"premmonth":~a.indexOf("premyear")?"premyear":~a.indexOf("vipmonth")?"vipmonth":~a.indexOf("vipyear")?"vipyear":"undefined";e.url("/tariffs"),o("SETTINGS_GLOBAL.PAYMENT_SUCCESS").then(function(e){s.success({message:e,delay:5e3,positionX:"left",positionY:"bottom"})});break;case"payment_failed":o("SETTINGS_GLOBAL.PAYMENT_ERROR").then(function(e){s.error({message:e,delay:5e3,positionX:"left",positionY:"bottom"})}),e.url("/tariffs")}}var i=this;i.notify=r}]).service("topmenuHeader",["$rootScope","$translate",function(e,t){function o(e){t(["PAGE_TITLES.SEARCH","PAGE_TITLES.TOUR_SERVICE","PAGE_TITLES.SYMPATHY","PAGE_TITLES.SEARCH_HISTORY"]).then(function(t){1==e&&(a.topmenuItems.length=0),a.topmenuItems.push({name:t["PAGE_TITLES.SEARCH"],id_name:"search",url:"search"},{name:t["PAGE_TITLES.TOUR_SERVICE"],id_name:"tour-service",url:"tour-service"},{name:t["PAGE_TITLES.SYMPATHY"],id_name:"sympathy",url:"sympathy"},{name:t["PAGE_TITLES.SEARCH_HISTORY"],id_name:"search-history",url:"search-history"})})}var a=this;a.topmenuItems=[],o(),e.$on("$translateChangeSuccess",function(){o(!0)})}]).service("ageRangeFilterHeader",function(){function e(e){var t=void 0;return t={minAge:e.minAge,maxAge:e.maxAge,options:{floor:e.currentMin,ceil:e.currentMax,step:1,hideLimitLabels:!0,onChange:function(){t.min=t.minAge==e.minAge?e.minAgeFilter:t.minAge,t.max=t.maxAge==e.maxAge?e.maxAgeFilter:t.maxAge}},min:e.minAgeFilter,max:e.maxAgeFilter}}var t=this;t.ageRangeFilter=e}).service("ErrorService",["$window","$rootScope","$uibModal",function(e,t,o){function a(e,a){if(i>=1)return console.log("Skip error box, too many open",i,e,a),!1;a=a||{};var s=t.$new();angular.extend(s,e),i++;var r=o.open({templateUrl:templateUrl("alertModal"),scope:s,windowClass:a.windowClass||"alert-modal"});return r.result["finally"](function(){i--}),r}function s(e){return a({data:e})}function r(e,a){a=a||{};var s=t.$new();angular.extend(s,e);var r=o.open({templateUrl:templateUrl("confirmModal"),scope:s,windowClass:a.windowClass||"confirm-modal"});return r.result}var i=0;return e.safeConfirm=function(e,t){"string"==typeof e&&(e={message:e}),r(e).then(function(e){t(e||!0)},function(){t(!1)})},{show:a,alert:s,confirm:r}}]).factory("unauthorizedError",["$q","$injector",function(e,t){return{responseError:function(o){var a=t.get("authService"),s=t.get("Notification");if(o.status>=400&&o.status<=511&&429!=o.status){console.info(o);var r=o.data.message?"<br><b>Message Error</b>: "+o.data.message:"";s.error({message:"<b>Status:</b> "+o.status+"<br><b>Status Text</b>: "+o.statusText+r,delay:1e4,positionX:"left",positionY:"bottom"})}return 401==o.status&&a.logoutApp(),e.reject(o)}}}]);
"use strict";angular.module("app.forGirls1",[]).controller("ForGirls1Controller",["$scope",function(r){r.checkUserAgreement=!0}]);
"use strict";angular.module("app.forGirls2",[]).controller("ForGirls2Controller",["$scope",function(r){r.checkUserAgreement=!0}]);
"use strict";angular.module("app.forGuys1",[]).controller("ForGuys1Controller",["$scope",function(e){e.checkUserAgreement=!0}]);
"use strict";angular.module("app.forGuys2",[]).controller("ForGuys2Controller",["$scope",function(e){e.checkUserAgreement=!0}]);
"use strict";angular.module("app.sheThrew1",[]).controller("sheThrew1Controller",["$scope",function(e){e.checkUserAgreement=!0}]);
"use strict";angular.module("app.twinsGirls1",[]).controller("TwinsGirls1Controller",["$scope",function(e){e.checkUserAgreement=!0}]);
"use strict";angular.module("app.twinsGirls2",[]).controller("TwinsGirls2Controller",["$scope",function(e){e.checkUserAgreement=!0}]);
"use strict";angular.module("app.twinsGirls3",[]).controller("TwinsGirls3Controller",["$scope",function(e){e.checkUserAgreement=!0}]);
"use strict";angular.module("app.changeLogModal",[]).controller("ChangeLogModalController",["$rootScope","$scope","$http",function(n,o,e){if(e.get(dataJsonUrl("changelog")).then(function(n){o.changelogList=n.data,o.updateMarginModal()}),!o.lastVersionApp){var a=n.CONFIG.version.split(".");o.lastVersionApp=a[0]+"."+a[1]+"."+Math.max(0,a[2]-1)}o.changelogHidden=!1,o.changelogShown=!1,o.canShowVersion=function(n){if(o.changelogShown)return!0;var e=versionCompare(n,o.lastVersionApp)>=0;return e||(o.changelogHidden=!0),e},o.showAllVersions=function(){o.changelogShown=!0,o.changelogHidden=!1}}]);
"use strict";angular.module("app.getUserEmailModal",[]).controller("GetUserEmailModalController",["$scope","$uibModalInstance",function(e,l){e.email="",e.emailRegExp=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/,e.submitUserEmailForm=function(){l.close(e.email)}}]);
"use strict";angular.module("app.paymentAccountModal",[]).controller("PaymentAccountModalController",["$scope","$uibModalInstance","$sce","$translate","paymentType","productList",function(e,t,O,T,n,a){e.paymentType=n,e.clientID=clientId,e.trackingID=trackingId,e.CONFIG.user_data.email&&"no-email@website.ru"!=e.CONFIG.user_settings.email&&T(["MODAL.PAYMENT_ACCOUNT.TOOLTIP.AC","MODAL.PAYMENT_ACCOUNT.TOOLTIP.PC","MODAL.PAYMENT_ACCOUNT.TOOLTIP.GP","MODAL.PAYMENT_ACCOUNT.TOOLTIP.WM","MODAL.PAYMENT_ACCOUNT.TOOLTIP.SB","MODAL.PAYMENT_ACCOUNT.TOOLTIP.MP","MODAL.PAYMENT_ACCOUNT.TOOLTIP.AB","MODAL.PAYMENT_ACCOUNT.TOOLTIP.QW","MODAL.PAYMENT_ACCOUNT.TOOLTIP.KV"]).then(function(t){angular.forEach(a.products,function(O,T){angular.forEach(O,function(O,n){O.paymentType=T,O.cps_email=e.CONFIG.user_settings.email,O.explanation=t["MODAL.PAYMENT_ACCOUNT.TOOLTIP."+[T]]})}),angular.forEach(a.products_euro,function(O,T){angular.forEach(O,function(O,n){O.paymentType=T,O.cps_email=e.CONFIG.user_settings.email,O.explanation=t["MODAL.PAYMENT_ACCOUNT.TOOLTIP."+[T]]})})}),e.terminalUrl=O.trustAsResourceUrl(a.terminal_url),e.terminalUrlEuro=O.trustAsResourceUrl(a.terminal_url_euro)}]);
"use strict";angular.module("app.recaptchaModal",[]).controller("recaptchaModalController",["$scope","$translate","$uibModalInstance","Upload",function(e,a,t,r){angular.element('[name="verifyRecaptcha"]').on("submit",function(){}),e.errorMessage="",e.verifyRecaptchaSubmit=function(){r.upload({method:"POST",headers:{Authorization:"Bearer "+e.CONFIG.access_token},url:e.CONFIG.api_methods.hostname+e.CONFIG.api_methods.recaptcha,data:{"g-recaptcha-response":verifyKey}}).then(function(r){"success"==r.data.result?(e.errorMessage="",t.close("success")):a("SEARCH_PAGE.NOT_VERIFIED").then(function(a){e.errorMessage=a})})}}]);
"use strict";angular.module("app.referralProgramModal",[]).config(["tagsInputConfigProvider",function(e){e.setDefaults("tagsInput",{displayProperty:"value",type:"email",minTags:1,allowedTagsPattern:/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/,spellcheck:!1}).setActiveInterpolation("tagsInput",{placeholder:!0})}]).controller("ReferralProgramModalController",["$scope","$http","$translate","Notification","usersService",function(e,t,n,i,o){e.userReferralLink="http://"+window.location.hostname+"/?invitation="+e.CONFIG.user_settings.invite_hash,e.emailFriends=[],e.shareVk=function(){var t=e.userReferralLink,n="FindFace.ru - сервис знакомств по фотографии",i="Загружайте фото понравившихся вам людей, находите похожих в «Вконтакте». Знакомьтесь и общайтесь.",o="http://"+window.location.hostname+"/images/not_cached/share/share_2.png",a="http://vkontakte.ru/share.php?url="+t+"&title="+n+"&description="+i+"&image="+o+"&noparse=true";window.open(a,"","toolbar=0,status=0,width=626,height=436")},e.submitLinkEmailForm=function(){var t=[];return angular.forEach(e.emailFriends,function(e,t){this.push(e.value)},t),t.join()?void o.sendInvitations(t.join(),function(){e.emailFriends=[],n("MODAL.REFFERAL_MODAL.INVITE_SUCCESS").then(function(e){i.success({message:e,delay:5e3,positionX:"left",positionY:"bottom"})})}):void n("MODAL.REFFERAL_MODAL.PROVIDE_ONE_EMAIL").then(function(e){i.error({message:e,delay:5e3,positionX:"left",positionY:"bottom"})})},e.$watch("emailFriends.length",function(t){n("MODAL.REFFERAL_MODAL.TYPE_EMAIL_SEPARATED_COMMAS").then(function(n){e.placeholder=t?" ":n}),e.updateMarginModal()})}]);
"use strict";angular.module("app.settingsAccount",[]).controller("SettingsAccountController",["$scope","$translate","$uibModalInstance",function(t,n,o){}]);
"use strict";angular.module("app.userProfileFoundModal",[]).controller("UserProfileFoundModalController",["$scope","$translate","$uibModalInstance","ErrorService","userData",function(e,o,t,n,r){var _=e.CONFIG.user_settings;e.userData=r,e.goVkProfileUser=function(e){
  console.log("https://vk.com/id"+e.user_id);
  return 0!=_.vk_open_count&&1==_.account_type||1!=_.account_type?void window.open("https://vk.com/id"+e.user_id):void o(["USER_ACCOUNT.FINISH_CONVERSION_USER_VKONTAKTE.TITLE","USER_ACCOUNT.FINISH_CONVERSION_USER_VKONTAKTE.TEXT"]).then(function(e){n.confirm({type:"REQUIRED_PAID_ACCOUNT",title:e["USER_ACCOUNT.FINISH_CONVERSION_USER_VKONTAKTE.TITLE"],message:e["USER_ACCOUNT.FINISH_CONVERSION_USER_VKONTAKTE.TEXT"]}).then(function(){t.close()})})}}]);
